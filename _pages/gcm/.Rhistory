knitr::opts_chunk$set(echo = F)
Dept.
df %>% mutate(Dept. = ifelse(str_detect(University, 'Statistic'), 'S', 'O')) %>%
arrange(Rank) %>%
mutate(Stat.Rank = rank(Rank, ties.method = 'min')) %>%
select(-X) %>%
mutate(Results = ifelse(
str_detect(University, 'Pennsylvania State|Purdue|North Carolina State'),
'R',
ifelse(
str_detect(University, 'of Iowa|South Carolina'),
'A',
ifelse(
str_detect(
University,
'Davis|Ohio|Rice|Colorado State|Michigan State|Pitts.|Santa Barbara|Riverside'
),
'P',
''
)
)
)) %>% knitr::kable(.)
?mutate
?mutate
library(dplyr, verbose = F)
library(stringr, verbose = F)
df = read.csv('usnr.csv')
?mutate
df %>% mutate(Dept. = ifelse(str_detect(University, 'Statistic'), 'Stat', 'Bstat/Info'), .after=1) %>%
mutate(Dept.Rank = rank(Rank, ties.method = 'min')) %>%
select(-X) %>%
mutate(Results = ifelse(
str_detect(University, 'Pennsylvania State|Purdue|North Carolina State'),
'R',
ifelse(
str_detect(University, 'of Iowa|South Carolina'),
'A',
ifelse(
str_detect(
University,
'Davis|Ohio|Rice|Colorado State|Michigan State|Pitts.|Santa Barbara|Riverside'
),
'P',
''
)
)
)) %>% knitr::kable(.)
knitr::opts_chunk$set(echo = F)
library(stringr, verbose = F)
str_detect('(.) \(Department.+', 'Johns Hopkins University (Department of Biostatistics)	')
str_detect('(.) \(Department.+', 'Johns Hopkins University (Department of Biostatistics)')
str_detect('Johns Hopkins University (Department of Biostatistics)', '(.) \(Department.+')
str_detect('Johns Hopkins University (Department of Biostatistics)', '(.) (Department.+')
str_detect('Johns Hopkins University (Department of Biostatistics)', '(.) \(Department.+')
str_detect('Johns Hopkins University (Department of Biostatistics)', '(.) \\(Department.+')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.) \\(Department.+')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.) \\(Department')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.+) \\(Department')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.+) ')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.+)')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.+) \\(')
str_flatten('fdavdasf'\)
str_flatten('fdavdasf')
str_flatten('fdavdasf fdsafdsa')
str_flatten('fdavdasf fdsafdsa fava')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.+)(?! \(.+)')
str_extract('Johns Hopkins University (Department of Biostatistics)', '(.+)(?! \\(.+)')
str_extract('Johns Hopkins University (Department of Biostatistics)', '.+?(?= \\()')
df <- df %>% mutate(Dept. = ifelse(str_detect(University, 'Statistic'), 'Stat', 'Bstat/Info'),
.after = 2) %>%
mutate(University = str_extract(University, '.+?(?= \\()')) %>%
group_by(Dept.) %>%
mutate(Dept.Rank = rank(Rank, ties.method = 'min')) %>%
select(-X) %>% arrange(Rank, Dept.Rank) %>%
mutate(Results = ifelse(
(str_detect(
University,
'Pennsylvania State|Purdue|North Carolina State'
) & Dept. == 'Stat') | (str_detect(
University,
'Emory|Duke|Los Angeles'
) & Dept. == 'Bstat/Info'),
'R',
ifelse(
str_detect(University, 'of Iowa|South Carolina') & Dept. == 'Stat',
'A',
ifelse(
(str_detect(
University,
'Davis|Ohio|Rice|Colorado State|Michigan State|Pitts.|Santa Barbara|Riverside'
) & Dept. == 'Stat') | (str_detect(
University,
'Florida|Chapel'
) & Dept. == 'Bstat/Info'),
'P',
''
)
)
))
df <- df %>% mutate(Dept. = ifelse(str_detect(University, 'Statistic'), 'Stat', 'Bstat/Info'),
.after = 2) %>%
mutate(University = str_extract(University, '.+?(?= \\()')) %>%
group_by(Dept.) %>%
mutate(Dept.Rank = rank(Rank, ties.method = 'min')) %>%
select(-X) %>% arrange(Rank, Dept.Rank) %>%
mutate(Results = ifelse(
(str_detect(
University,
'Pennsylvania State|Purdue|North Carolina State'
) & Dept. == 'Stat') | (str_detect(
University,
'Emory|Duke|Los Angeles'
) & Dept. == 'Bstat/Info'),
'R',
ifelse(
str_detect(University, 'of Iowa|South Carolina') & Dept. == 'Stat',
'A',
ifelse(
(str_detect(
University,
'Davis|Ohio|Rice|Colorado State|Michigan State|Pitts.|Santa Barbara|Riverside'
) & Dept. == 'Stat') | (str_detect(
University,
'Florida|Chapel'
) & Dept. == 'Bstat/Info'),
'P',
''
)
)
))
df <- df %>% mutate(Dept. = ifelse(str_detect(University, 'Statistic'), 'Stat', 'Bstat/Info'),
.after = 2) %>%
mutate(University = str_extract(University, '.+?(?= \\()')) %>%
group_by(Dept.) %>%
mutate(Dept.Rank = rank(Rank, ties.method = 'min')) %>%
select(-X) %>% arrange(Rank, Dept.Rank) %>%
mutate(Results = ifelse(
(str_detect(
University,
'Pennsylvania State|Purdue|North Carolina State'
) & Dept. == 'Stat') | (str_detect(
University,
'Emory|Duke|Los Angeles'
) & Dept. == 'Bstat/Info'),
'R',
ifelse(
str_detect(University, 'of Iowa|South Carolina') & Dept. == 'Stat',
'A',
ifelse(
(str_detect(
University,
'Davis|Ohio|Rice|Colorado State|Michigan State|Pitts.|Santa Barbara|Riverside'
) & Dept. == 'Stat') | (str_detect(
University,
'Florida|Chapel'
) & Dept. == 'Bstat/Info'),
'P',
''
)
)
))
knitr::opts_chunk$set(echo = F)
library(dplyr, verbose = F)
library(stringr, verbose = F)
df = read.csv('usnr.csv')
df <- df %>% mutate(Dept. = ifelse(str_detect(University, 'Statistic'), 'Stat', 'Bstat/Info'),
.after = 2) %>%
mutate(University = str_extract(University, '.+?(?= \\()')) %>%
group_by(Dept.) %>%
mutate(Dept.Rank = rank(Rank, ties.method = 'min')) %>%
select(-X) %>% arrange(Rank, Dept.Rank) %>%
mutate(Results = ifelse(
(str_detect(
University,
'Pennsylvania State|Purdue|North Carolina State'
) & Dept. == 'Stat') | (str_detect(
University,
'Emory|Duke|Los Angeles'
) & Dept. == 'Bstat/Info'),
'R',
ifelse(
str_detect(University, 'of Iowa|South Carolina') & Dept. == 'Stat',
'A',
ifelse(
(str_detect(
University,
'Davis|Ohio|Rice|Colorado State|Michigan State|Pitts.|Santa Barbara|Riverside'
) & Dept. == 'Stat') | (str_detect(
University,
'Florida|Chapel'
) & Dept. == 'Bstat/Info'),
'P',
''
)
)
))
knitr::kable(df)
# cat(sum(df$))
